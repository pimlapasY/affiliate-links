<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>แนะนำ สินค้า โดยพิมพ์</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fffefc;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      display: flex;
      padding-bottom: 10px;
      text-align: center;
      background-color: #ffffff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 10;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    h1 {
      margin: 0;
      font-size: 22px;
    }
    input[type="text"] {
      width: 90%;
      max-width: 500px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 16px;
      margin-top: 10px;
    }
    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 0 15px;
    }
    .container-fluid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  max-width: 90%;
  margin: 20px auto;
  padding: 0 15px;
}

.card {
  background-color: #ffffff;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 20px;
  transition: transform 0.2s ease;
  flex: 1 1 calc(33.333% - 20px); /* 3 cards per row with spacing */
  box-sizing: border-box;
}

    .card:hover {
      transform: scale(1.01);
    }
    .card img {
      width: 150px;
      height: auto;
      border-radius: 8px;
      object-fit: cover;
    }
    .card-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .card-content p {
      margin: 0 0 10px;
      font-size: 16px;
    }
    .btn {
      background-color: #7986cb;
      color: white;
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 6px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      width: fit-content;
      margin-bottom: 10px;
    }
    .btn i.material-icons {
      font-size: 18px;
    }
    .bottom-row {
      display: flex;
      gap: 10px;
    }
    .favorite-btn {
      background-color: #ffe3e3;
      color: #d32f2f;
      border: none;
      border-radius: 6px;
      padding: 5px;
      cursor: pointer;
      display: flex;
      align-items: center;
    }
    .favorite-btn.active {
      background-color: #d32f2f;
      color: white;
    }
    .share-btn {
      background-color: #eee;
      color: #444;
      border: none;
      border-radius: 6px;
      padding: 8px 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
    }
    .share-btn:hover {
      background-color: #ddd;
    }
    .logoWidth{
        width: 30%;
      }
      .search-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.search-bar input,
.search-bar select {
  font-size: 16px;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 6px;
  max-width: 250px;
  width: 100%;
  margin: 0;
  margin-top: 5px;
}

.tabs {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin: 10px 0;
}

.tab-btn {
  background-color: #f0f0f0;
  border: none;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
}

.tab-btn.active {
  background-color: #ec407a;
  color: white;
}

    @media (max-width: 600px) {
      .card {
        flex: 1 1 100%;
        width: 90%;
        align-items: center;
      }
      .card img {
        width: 30%;
      }
      .card-content {
        align-items: center;
      }
      .card-content p, .btn {
        text-align: center;
      }
      .bottom-row {
        justify-content: center;
      }
      .logoWidth{
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="logo2.gif" alt="Logo" class="logoWidth" />
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="ค้นหาสินค้าที่คุณสนใจ...">
      <select id="categorySelect">
        <option value="">ทุกหมวดหมู่</option>
        <option value="skintific">Skintific</option>
        <option value="camp">ของใช้แคมป์</option>
        <option value="cat">แมว</option>
        <option value="shoes">รองเท้า</option>
      </select>
    </div>
  </header>
  
  <div class="tabs">
    <button class="tab-btn active" data-tab="all">ทั้งหมด</button>
    <button class="tab-btn" data-tab="favorite">ที่ถูกใจ</button>
  </div>
  
  <div class="container-fluid" id="cardContainer">
    
    <!-- Cards จะถูก generate ด้วย JS -->
  </div>

  <script>
    const products = [
      {
        id: "skintific-acne",
        title: "skintific ผิวเป็นสิว",
        img: "skintific-acne.jpg",
        alt: "Skintific สำหรับผิวเป็นสิว",
        desc: "Skintific สูตรสำหรับผิวเป็นสิว",
        url: "https://s.shopee.co.th/1qOj1KWaw8"
      },
      {
        id: "skintific-barrier",
        title: "skintific ผิวแข็งแรง",
        img: "skintific-barrier.jpg",
        alt: "Skintific สูตรผิวแข็งแรง ชุ่มชื่น",
        desc: "Skintific สูตรผิวแข็งแรง ชุ่มชื่น",
        url: "https://s.shopee.co.th/9UoA9WvdBY"
      },
      {
        id: "skintific-claymask",
        title: "skintific มาร์กโคลน",
        img: "skintific-claymask.jpg",
        alt: "Skintific มาร์กโคลน",
        desc: "Skintific มาร์กโคลน",
        url: "https://s.shopee.co.th/706pAzmU2y"
      },
      {
        id: "camp-grill",
        title: "Grill Pot เตาย่างมินิมอล พกพาง่าย",
        img: "grill-pot.JPG",
        alt: "Grill Pot เตาย่างมินิมอล พกพาสะดวก",
        desc: "Grill Pot เตาย่างมินิมอล พกพาง่าย",
        url: "https://s.shopee.co.th/3LDWySdW42"
      },
      {
        id: "camp-chair",
        title: "เก้าอี้แคมป์ ปรับระดับ พับเก็บง่าย",
        img: "camp-chair.JPG",
        alt: "เก้าอี้แคมป์ ปรับระดับ พับเก็บง่าย chair",
        desc: "เก้าอี้แคมป์ ปรับระดับ พับเก็บง่าย",
        url: "https://s.shopee.co.th/7zzMXBN44g"
      },
      {
        id: "cat-home",
        title: "Cat Home บ้านแมว ที่ฝนเล็บ",
        img: "cat-home.JPG",
        alt: "Cat Home บ้านแมว ที่ฝนเล็บ",
        desc: "Cat Home บ้านแมว ที่ฝนเล็บ 2 IN 1",
        url: "https://s.shopee.co.th/9f7aOBpEHR"
      },
      {
        id: "hello-polo-shoes",
        title: "Hello Polo รองเท้าแตะยางนิ่ม",
        img: "hello-polo-shoes.JPG",
        alt: "Hello Polo รองเท้าแตะยางนิ่ม",
        desc: "Hello Polo รองเท้าแตะยางนิ่ม",
        url: "https://s.shopee.co.th/2VePsm3LgY"
      }
    ];

    const container = document.getElementById('cardContainer');

    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.dataset.id = p.id;
      card.dataset.title = p.title;

      card.innerHTML = `
        <img src="${p.img}" alt="${p.alt}" />
        <div class="card-content">
          <p>${p.desc}</p>
          <a class="btn" href="${p.url}" target="_blank">
            <i class="material-icons">shopping_cart</i> ช้อปเลย
          </a>
          <div class="bottom-row">
            <button class="favorite-btn" onclick="toggleFavorite(this, '${p.id}')">
              <i class="material-icons">favorite</i>
            </button>
            <button class="share-btn" onclick="share('${p.url}')">แชร์</button>
          </div>
        </div>
      `;
      container.appendChild(card);
    });

    const favoriteKey = 'favoriteItems';

    function getFavorites() {
      return JSON.parse(localStorage.getItem(favoriteKey)) || [];
    }

    function saveFavorites(favs) {
      localStorage.setItem(favoriteKey, JSON.stringify(favs));
    }

    function toggleFavorite(btn, id) {
      let favorites = getFavorites();
      if (favorites.includes(id)) {
        favorites = favorites.filter(f => f !== id);
        btn.classList.remove('active');
      } else {
        favorites.push(id);
        btn.classList.add('active');
      }
      saveFavorites(favorites);
    }

    function markFavorites() {
      const favorites = getFavorites();
      document.querySelectorAll('.card').forEach(card => {
        const id = card.dataset.id;
        const favBtn = card.querySelector('.favorite-btn');
        if (favorites.includes(id)) {
          favBtn.classList.add('active');
        } else {
          favBtn.classList.remove('active');
        }
      });
    }

    document.getElementById('searchInput').addEventListener('input', function () {
      const filter = this.value.toLowerCase();
      document.querySelectorAll('.card').forEach(card => {
        const title = card.getAttribute('data-title').toLowerCase();
        card.style.display = title.includes(filter) ? '' : 'none';
      });
    });

    function share(url) {
      if (navigator.share) {
        navigator.share({ title: 'ดูสินค้านี้เลย!', url: url });
      } else {
        prompt("คัดลอกลิงก์เพื่อแชร์:", url);
      }
    }
    function filterCards() {
  const search = document.getElementById('searchInput').value.toLowerCase();
  const category = document.getElementById('categorySelect').value;
  const tab = document.querySelector('.tab-btn.active').dataset.tab;
  const favorites = getFavorites();

  document.querySelectorAll('.card').forEach(card => {
    const title = card.dataset.title.toLowerCase();
    const id = card.dataset.id;
    const matchesSearch = title.includes(search);
    const matchesCategory = category === "" || id.includes(category);
    const matchesTab = tab === "all" || favorites.includes(id);

    card.style.display = (matchesSearch && matchesCategory && matchesTab) ? '' : 'none';
  });
}
document.getElementById('searchInput').addEventListener('input', filterCards);
document.getElementById('categorySelect').addEventListener('change', filterCards);
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', function () {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    filterCards();
  });
});
window.onload = function() {
  markFavorites();
  filterCards();
};

  </script>
</body>
</html>
